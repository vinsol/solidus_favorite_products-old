<% admin_breadcrumb(link_to plural_resource_name(Spree::LegacyUser), spree.admin_users_path) %>
<% admin_breadcrumb(link_to @user.email, edit_admin_user_url(@user)) %>
<% admin_breadcrumb(Spree.t(:favorite_products, scope: [:admin, :tab])) %>



<%= render 'spree/admin/users/sidebar' %>
<%= render 'spree/admin/users/tabs', current: :favourite_products %>
<%= render partial: 'spree/admin/users/user_page_actions' %>


<div data-hook="account_my_favourite_products" class="account-my-favorite-products commonform">
  <h3><%= Spree.t(:my_favourite_products) %></h3>
  <% if @favourite_products.present? %>
    <table class="favorite-products order-summary" width="100%">
      <thead>
      <tr>
        <th class="favorite-product-image"><%= Spree.t(:product_image) %></th>
        <th class="favorite-product-name"><%= Spree.t(:product_name) %></th>
        <th class="favorite-product-action">Action</th>
      </tr>
      </thead>
      <tbody>
      <% @favourite_products.each do |product| %>
        <tr class="<%= cycle('even', 'odd') %> favorite_product" id="favorite_product_<%= product.id %>">
          <td class="favorite-product-image"><%= link_to product_path(product) do %>
          <%= image_tag product.display_image.attachment(:mini) %>
          <% end %>
          </td>
          <td class="favorite-product-name"><%= product.name %></td>
          <td class="favorite-product-remove"><%= link_to 'Remove', favorite_product_path(:id => product.id), :method => :delete, :remote => true, :confirm => 'Are you sure you want to remove the product?' %>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <p><%= Spree.t(:you_have_no_favourite_products_yet) %></p>
  <% end %>

  <%= paginate @favourite_products %>
</div>
